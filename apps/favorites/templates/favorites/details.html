{% extends "base.html" %}
{% load i18n %}
{% load humanize %}
{% load ecfilters %}

{% block title %} {{ list.name }} | {% endblock title %}

{% block content %}

<div class="container m-3 p-3">
  
  <div class="d-flex flex-row justify-content-between mb-3">
    <div>
      <h1>{{ list.name }}</h1>
      <p>
        {% translate "List created" %} <b>{{ list.created_at|naturalday|title }}</b>
      </p>
    </div>

    <div>
      <h2>{% translate "Informations" %}</h1>
      <p class="mb-0">{{ items.count }} {% translate "items" %}</p>
    </div>
  </div>

  <hr class="my-4" />

  {% for item in items %}
  <div class="row mb-3">
    <div class="col-md-2 d-inline">
        <a href="{% url "products:details" item.product.slug  %}">
            <img src="{{ item.product.cover.url }}" alt="" style="height: 200px; width: auto" />
        </a>
    </div>
  
    <div class="col-md-6">
      <h6>{{ item.product.name }}</h6>

      {% if item.product.promotional_price %}
      <p class="my-3">
        <b>{{ item.product.promotional_price|format_currency_template }}</b>
      </p>
      {% else %}
      <p class="my-3"><b>{{ item.product.price|format_currency_template }}</b></p>
      {% endif %}
      <span class="text-muted">{{ item.product.short_description }}</span>
  </div>
  <hr class="my-4" />
  {% endfor %}
</div>

{% endblock content %}
